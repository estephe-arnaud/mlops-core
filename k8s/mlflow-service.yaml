# Service MLflow : Expose le serveur MLflow en interne dans le cluster
# Permet à l'API d'accéder à MLflow via http://mlflow-server:5000
apiVersion: v1
kind: Service
metadata:
  name: mlflow-server-service
  namespace: mlops
  labels:
    app: mlflow-server
    component: service
spec:
  type: ClusterIP  # Service interne uniquement
  ports:
  - port: 5000  # Port du Service
    targetPort: 5000  # Port du container MLflow
    protocol: TCP
    name: http
  selector:
    app: mlflow-server  # Route vers les pods mlflow-server
  sessionAffinity: None

